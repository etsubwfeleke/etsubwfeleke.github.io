<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Auto-Bench : Benchmarking Multi-Tool LLM Agents - Etsub Feleke</title><meta name="Description" content="This is my KeepIt site"><meta property="og:url" content="https://etsubwfeleke.github.io/project_benchmark/">
  <meta property="og:site_name" content="Etsub Feleke">
  <meta property="og:title" content="Auto-Bench : Benchmarking Multi-Tool LLM Agents">
  <meta property="og:description" content="Auto Bench is a reproducible benchmarking framework that evaluates multi-tool LLM agents by measuring their process (tool selection, reasoning, action sequencing), not just outcomes.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-12-30T17:17:55-06:00">
    <meta property="article:modified_time" content="2025-12-30T17:17:55-06:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Auto-Bench : Benchmarking Multi-Tool LLM Agents">
  <meta name="twitter:description" content="Auto Bench is a reproducible benchmarking framework that evaluates multi-tool LLM agents by measuring their process (tool selection, reasoning, action sequencing), not just outcomes.">
<meta name="application-name" content="Etsub">
<meta name="apple-mobile-web-app-title" content="Etsub"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#ffffff"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://etsubwfeleke.github.io/project_benchmark/" /><link rel="prev" href="https://etsubwfeleke.github.io/final_itracker/" /><link rel="next" href="https://etsubwfeleke.github.io/cognitive_canvas/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Auto-Bench : Benchmarking Multi-Tool LLM Agents",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/etsubwfeleke.github.io\/project_benchmark\/"
        },"genre": "posts","wordcount":  1182 ,
        "url": "https:\/\/etsubwfeleke.github.io\/project_benchmark\/","datePublished": "2025-12-30T17:17:55-06:00","dateModified": "2025-12-30T17:17:55-06:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Author"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Etsub Feleke">Etsub Feleke</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Posts </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/posts/"> Archives </a><a class="menu-item" href="/about/"> About Me </a><a class="menu-item" href="https://drive.google.com/file/d/1Gzr1t43CpEgILE04zRZ-dp6TPC9fdcN8/view?usp=drive_link" rel="noopener noreffer" target="_blank"> Resume </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Etsub Feleke">Etsub Feleke</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/" title="">Posts</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/posts/" title="">Archives</a><a class="menu-item" href="/about/" title="">About Me</a><a class="menu-item" href="https://drive.google.com/file/d/1Gzr1t43CpEgILE04zRZ-dp6TPC9fdcN8/view?usp=drive_link" title="" rel="noopener noreffer" target="_blank">Resume</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Auto-Bench : Benchmarking Multi-Tool LLM Agents</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a>
</span>&nbsp;<span class="post-category">included in <a href="/categories/ai/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>AI</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-12-30">2025-12-30</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1182 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;6 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/benchmarking_pipline/gemvsgpt.png"
        data-srcset="/images/benchmarking_pipline/gemvsgpt.png, /images/benchmarking_pipline/gemvsgpt.png 1.5x, /images/benchmarking_pipline/gemvsgpt.png 2x"
        data-sizes="auto"
        alt="/images/benchmarking_pipline/gemvsgpt.png"
        title="/images/benchmarking_pipline/gemvsgpt.png" width="1768" height="472" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#understanding-the-landscape">Understanding the Landscape</a></li>
      </ul>
    </li>
    <li><a href="#the-architecture">The Architecture</a>
      <ul>
        <li><a href="#1-the-dataset-40-curated-scenarios">1. <strong>The Dataset (40 Curated Scenarios)</strong></a></li>
        <li><a href="#2-the-sandbox-controlled-tool-environment">2. <strong>The Sandbox (Controlled Tool Environment)</strong></a></li>
        <li><a href="#3-three-agent-configurations">3. <strong>Three Agent Configurations</strong></a></li>
      </ul>
    </li>
    <li><a href="#the-react-prompting-strategy">The ReAct Prompting Strategy</a></li>
    <li><a href="#the-development-process-4-critical-phases">The Development Process: 4 Critical Phases</a>
      <ul>
        <li><a href="#phase-1-logic-validation-stubbed-testing">Phase 1: Logic Validation (Stubbed Testing)</a></li>
        <li><a href="#phase-2-the-initial-live-tests">Phase 2: The Initial Live Tests</a></li>
        <li><a href="#phase-3-the-rag-solution">Phase 3: The RAG Solution</a></li>
        <li><a href="#phase-4-comprehensive-evaluation">Phase 4: Comprehensive Evaluation</a></li>
      </ul>
    </li>
    <li><a href="#key-results">Key Results</a></li>
    <li><a href="#conclusions-and-learnings">Conclusions and Learnings</a></li>
  </ul>

  <ul>
    <li><a href="#tech-stack">Tech Stack</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>When the professor asked us to decide on a project that will take the length of the semester and needs to be in the realm of machine learning, my first thought was this could be either be the easiest or the hardest project I will do during this semester. He gave us a list of projects we could choose from and said implement these ideasâ€”not too big, not too small, but enough to cover a lot of ground.</p>
<p>So after some deliberation, I decided to go for a topic I have never explored. I have heard of benchmarking but never really dived deep into it; I never even ventured in that direction because I focused mainly on <em>using</em> the agents, not <em>testing</em> them. So I decided to go for <strong>Benchmarking Multi-Tool LLM Agents</strong> and add my own twist by adding multiple configurations to see how they perform under different settings.</p>
<h3 id="understanding-the-landscape">Understanding the Landscape</h3>
<p>Before writing any code, I spent some time researching how the industry currently evaluates AI. The most common benchmarks, like <strong>MMLU</strong> (Massive Multitask Language Understanding), focus heavily on knowledgeâ€”testing if a model can answer multiple-choice questions about chemistry, history, or math.</p>
<p>However, <strong>Agents</strong> are different. They aren&rsquo;t just knowledge bases; they are systems that use tools to perform actions. I looked into specialized frameworks like <strong>AgentBench</strong> and <strong>DeepEval</strong>, which are excellent, comprehensive tools for this purpose.</p>
<p>While these frameworks are powerful, for this project, I wanted to build the evaluation harness from scratch. My goal was to understand the internal mechanics of an agentic workflowâ€”how the prompt is structured, how the tool output is parsed, and where the failures actually happen. I realized that evaluating an agent is less like grading a written exam and more like observing a process. I needed a custom setup that would allow me to track that specific behaviorâ€”tool selection, routing, and executionâ€”in a controlled environment.</p>
<h2 id="the-architecture">The Architecture</h2>
<p><strong>Auto Bench</strong> is in a deterministic sandbox environment. Here&rsquo;s how it works:</p>
<h3 id="1-the-dataset-40-curated-scenarios">1. <strong>The Dataset (40 Curated Scenarios)</strong></h3>
<p>I focused on <strong>Public Health &amp; Pandemics</strong> because:</p>
<ul>
<li>It&rsquo;s fact-dense (requires precise retrieval)</li>
<li>It has verifiable ground truth</li>
<li>It demands multi-step reasoning</li>
</ul>
<p>Each task is stored as a structured JSON object:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;task_text&#34;</span><span class="p">:</span> <span class="s2">&#34;List the vaccine-development phases and create a quiz...&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;category&#34;</span><span class="p">:</span> <span class="s2">&#34;Vaccinology&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;task_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Multi-Tool&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;gold_end_state&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;summary&#34;</span><span class="p">:</span> <span class="s2">&#34;Phase I: Safety testing...&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;quiz&#34;</span><span class="p">:</span> <span class="p">[{</span><span class="nt">&#34;question&#34;</span><span class="p">:</span> <span class="s2">&#34;...&#34;</span><span class="p">,</span> <span class="nt">&#34;answer&#34;</span><span class="p">:</span> <span class="s2">&#34;Phase III&#34;</span><span class="p">}]</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;oracle_plan&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nt">&#34;tool_name&#34;</span><span class="p">:</span> <span class="s2">&#34;content_extractor&#34;</span><span class="p">,</span> <span class="nt">&#34;arguments&#34;</span><span class="p">:</span> <span class="p">{</span><span class="err">...</span><span class="p">}},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nt">&#34;tool_name&#34;</span><span class="p">:</span> <span class="s2">&#34;quiz_generator&#34;</span><span class="p">,</span> <span class="nt">&#34;arguments&#34;</span><span class="p">:</span> <span class="p">{</span><span class="err">...</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Why this matters:</strong> The <code>oracle_plan</code> defines the <em>optimal</em> path. If an agent takes 5 steps to do what should take 2, I know it&rsquo;s inefficient.</p>
<h3 id="2-the-sandbox-controlled-tool-environment">2. <strong>The Sandbox (Controlled Tool Environment)</strong></h3>
<p>Instead of live web search (which changes daily), I built a <strong>local knowledge base</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">web_search</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Simulated web search that queries local documents.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">kb_path</span> <span class="o">=</span> <span class="s2">&#34;knowledge_base/&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Match query to relevant document</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="s2">&#34;WHO&#34;</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">load_file</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">kb_path</span><span class="si">}</span><span class="s2">who_covid19.txt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="s2">&#34;CDC&#34;</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">load_file</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">kb_path</span><span class="si">}</span><span class="s2">cdc_pandemic_flu.txt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;No relevant document found.&#34;</span>
</span></span></code></pre></div><p>This guarantees <strong>reproducibility</strong>â€”every test run sees identical data.</p>
<h3 id="3-three-agent-configurations">3. <strong>Three Agent Configurations</strong></h3>
<p>I tested three levels of complexity:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: right">Agent Type</th>
          <th style="text-align: left">Tools Available</th>
          <th style="text-align: center">Tests</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: right"><strong>No-Tool</strong></td>
          <td style="text-align: left">None (pure reasoning)</td>
          <td style="text-align: center">Can the model answer from memory?</td>
          <td></td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Single-Tool</strong></td>
          <td style="text-align: left">Web search only</td>
          <td style="text-align: center">Can it retrieve and synthesize?</td>
          <td></td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Multi-Tool</strong></td>
          <td style="text-align: left">Search + Summarizer + Quiz Gen</td>
          <td style="text-align: center">Can it route tasks correctly?</td>
          <td></td>
      </tr>
  </tbody>
</table>
<h2 id="the-react-prompting-strategy">The ReAct Prompting Strategy</h2>
<p>I used the <strong>ReAct (Reason + Act)</strong> framework to make the agent&rsquo;s reasoning transparent:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">REACT_PROMPT</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">You are an intelligent agent. For each task, follow this format:
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">Thought: [Analyze what you need to do]
</span></span></span><span class="line"><span class="cl"><span class="s2">Action: [tool_name]
</span></span></span><span class="line"><span class="cl"><span class="s2">Action Input: [arguments for the tool]
</span></span></span><span class="line"><span class="cl"><span class="s2">Observation: [tool output will appear here]
</span></span></span><span class="line"><span class="cl"><span class="s2">... (repeat Thought/Action/Observation as needed)
</span></span></span><span class="line"><span class="cl"><span class="s2">Final Answer: [your complete response]
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">Available Tools:
</span></span></span><span class="line"><span class="cl"><span class="s2">- web_search: Search the knowledge base
</span></span></span><span class="line"><span class="cl"><span class="s2">- content_extractor: Summarize documents
</span></span></span><span class="line"><span class="cl"><span class="s2">- quiz_generator: Create quiz questions
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></div><p>This forces the model to &ldquo;show its work&rdquo;â€”every decision is logged.</p>
<h2 id="the-development-process-4-critical-phases">The Development Process: 4 Critical Phases</h2>
<h3 id="phase-1-logic-validation-stubbed-testing">Phase 1: Logic Validation (Stubbed Testing)</h3>
<p>Before spending money on API calls, I tested with <strong>stubbed agents</strong> that return fake responses:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StubbedAgent</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;thought&#34;</span><span class="p">:</span> <span class="s2">&#34;I need to search for information&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;action&#34;</span><span class="p">:</span> <span class="s2">&#34;web_search&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;action_input&#34;</span><span class="p">:</span> <span class="s2">&#34;CDC pandemic guidelines&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>This proved my parser logic worked before involving real LLMs.</p>
<h3 id="phase-2-the-initial-live-tests">Phase 2: The Initial Live Tests</h3>
<p>When I first ran live tests, <strong>Multi-Tool agents got 0% success</strong>. Both Gemini and GPT failed every single task.</p>
<p>I dug into the execution logs and found the issue:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;thought&#34;</span><span class="p">:</span> <span class="s2">&#34;I need to summarize the ACP paper&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;action&#34;</span><span class="p">:</span> <span class="s2">&#34;content_extractor&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;error&#34;</span><span class="p">:</span> <span class="s2">&#34;No text provided to extract from&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>The diagnosis:</strong> The agents had tools but no <em>context</em>. They were being asked to summarize documents they&rsquo;d never seen.</p>
<h3 id="phase-3-the-rag-solution">Phase 3: The RAG Solution</h3>
<p>I implemented <strong>Retrieval-Augmented Generation</strong> to inject context automatically:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">retrieve_relevant_context</span><span class="p">(</span><span class="n">task</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Autonomous librarian that finds the right document.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Virology&#34;</span><span class="p">:</span> <span class="s2">&#34;who_covid19.txt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Vaccinology&#34;</span><span class="p">:</span> <span class="s2">&#34;mdpi_vaccine_development.txt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;cdc_pandemic_flu.txt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Scan task text for category</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">keywords</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">category</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">task</span><span class="p">[</span><span class="s2">&#34;task_text&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">doc_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;knowledge_base/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">doc_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Inject into prompt</span>
</span></span><span class="line"><span class="cl"><span class="n">context</span> <span class="o">=</span> <span class="n">retrieve_relevant_context</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">full_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">REACT_PROMPT</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">=== SOURCE DOCUMENT ===</span><span class="se">\n</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="se">\n\n</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;task_text&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span></code></pre></div><p><strong>Result:</strong> Success rate jumped from 0% â†’ 80% for Gemini.</p>
<h3 id="phase-4-comprehensive-evaluation">Phase 4: Comprehensive Evaluation</h3>
<p>I tracked five metrics for every run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">evaluate_task</span><span class="p">(</span><span class="n">agent_output</span><span class="p">,</span> <span class="n">gold_standard</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;success&#34;</span><span class="p">:</span> <span class="n">check_keyword_overlap</span><span class="p">(</span><span class="n">agent_output</span><span class="p">,</span> <span class="n">gold_standard</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;precision&#34;</span><span class="p">:</span> <span class="n">correct_tools</span> <span class="o">/</span> <span class="n">total_tools_used</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;recall&#34;</span><span class="p">:</span> <span class="n">correct_tools</span> <span class="o">/</span> <span class="n">required_tools</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;efficiency&#34;</span><span class="p">:</span> <span class="n">oracle_steps</span> <span class="o">/</span> <span class="n">agent_steps</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;latency&#34;</span><span class="p">:</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;cost&#34;</span><span class="p">:</span> <span class="p">(</span><span class="n">input_tokens</span> <span class="o">*</span> <span class="n">rate_in</span> <span class="o">+</span> <span class="n">output_tokens</span> <span class="o">*</span> <span class="n">rate_out</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>Every experiment produced structured logs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;task_id&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;gemini-2.5-flash&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;agent_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Single-Tool&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;success&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;latency_seconds&#34;</span><span class="p">:</span> <span class="mf">9.41</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;run_log&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;steps&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;llm_call&#34;</span><span class="p">,</span> <span class="nt">&#34;output&#34;</span><span class="p">:</span> <span class="s2">&#34;Thought: I need WHO data...&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;tool_call&#34;</span><span class="p">,</span> <span class="nt">&#34;tool&#34;</span><span class="p">:</span> <span class="s2">&#34;web_search&#34;</span><span class="p">,</span> <span class="nt">&#34;output&#34;</span><span class="p">:</span> <span class="s2">&#34;[WHO Document]&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;llm_call&#34;</span><span class="p">,</span> <span class="nt">&#34;output&#34;</span><span class="p">:</span> <span class="s2">&#34;Final Answer: The WHO strategy...&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="key-results">Key Results</h2>
<p>Testing <strong>Google Gemini 2.5 Flash</strong> vs <strong>OpenAI GPT-4o-mini</strong> across 40 scenarios:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: right">Metric</th>
          <th style="text-align: left">Gemini 2.5 Flash</th>
          <th style="text-align: center">GPT-4o-mini</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: right"><strong>Multi-Tool Success</strong></td>
          <td style="text-align: left">80%</td>
          <td style="text-align: center">45%</td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Single-Tool Success</strong></td>
          <td style="text-align: left">90%</td>
          <td style="text-align: center">50%</td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Cost per Success</strong></td>
          <td style="text-align: left">$0.0276</td>
          <td style="text-align: center">$0.0178</td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Average Latency</strong></td>
          <td style="text-align: left">69.29s</td>
          <td style="text-align: center">10.50s</td>
      </tr>
      <tr>
          <td style="text-align: right"><strong>Adversarial Refusal Rate</strong></td>
          <td style="text-align: left">100%</td>
          <td style="text-align: center">100%</td>
      </tr>
  </tbody>
</table>
<p><strong>The Trade-Off:</strong> Gemini is nearly 2x more accurate but 6x slower and 55% more expensive. The &ldquo;best&rdquo; model depends on your priorities.</p>
<h2 id="conclusions-and-learnings">Conclusions and Learnings</h2>
<ol>
<li><strong>System Design Matters:</strong> Many failures were due to missing context or poor tool routing, not model limitations. A well-architected agent can outperform a more powerful model with a weak setup.</li>
<li><strong>Reproducibility is Key:</strong> Using a static knowledge base allowed for consistent, comparable results across runs. Live web search would have introduced too much variability.</li>
<li><strong>Transparent Reasoning Aids Debugging:</strong> The ReAct framework made it easy to identify where agents went wrongâ€”whether in tool selection or interpretation.</li>
<li><strong>Cost vs Performance Trade-Offs:</strong> Depending on the application, a cheaper, faster model with lower accuracy may be preferable to a more expensive, slower one.</li>
</ol>
<h1 id="future-improvements">Future improvements</h1>
<ul>
<li>Expand the dataset to cover more domains and task types.</li>
<li>Integrate more sophisticated tools (e.g., calculators, code interpreters).</li>
<li>Explore hybrid models that combine strengths of different LLMs.</li>
</ul>
<h2 id="tech-stack">Tech Stack</h2>
<ul>
<li><strong>Languages:</strong> Python</li>
<li><strong>APIs:</strong> Google Gemini 2.5 Flash, OpenAI GPT-4o-mini</li>
<li><strong>Frameworks:</strong> ReAct prompting, RAG</li>
<li><strong>Testing:</strong> pytest, stubbed agents</li>
<li><strong>Analysis:</strong> Statistical validation (95% CI), paired comparative analysis</li>
</ul>
<h2 id="resources">Resources</h2>
<p>ðŸ“‚ <strong><a href="https://github.com/etsubwfeleke/Project_benchmark" target="_blank" rel="noopener noreffer">View Code on GitHub</a>
</strong><br>
ðŸ“„ <strong><a href="link-to-paper" rel="">Read Full Technical Report</a>
</strong></p>
<p><strong>Built for DTSC 5505 (Applied Machine Learning) at UNT | Fall 2025</strong></p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2025-12-30</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://etsubwfeleke.github.io/project_benchmark/" data-title="Auto-Bench : Benchmarking Multi-Tool LLM Agents"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://etsubwfeleke.github.io/project_benchmark/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://etsubwfeleke.github.io/project_benchmark/" data-title="Auto-Bench : Benchmarking Multi-Tool LLM Agents"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://etsubwfeleke.github.io/project_benchmark/" data-title="Auto-Bench : Benchmarking Multi-Tool LLM Agents"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@6.20.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on å¾®åš" data-sharer="weibo" data-url="https://etsubwfeleke.github.io/project_benchmark/" data-title="Auto-Bench : Benchmarking Multi-Tool LLM Agents" data-image="images/benchmarking_pipline/gemvsgpt.png"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/final_itracker/" class="prev" rel="prev" title="Final Eye Blink Tracker Implementation"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Final Eye Blink Tracker Implementation</a>
            <a href="/cognitive_canvas/" class="next" rel="next" title="Cognitive Canvas : Exploring the Model Context Protocol (MCP).">Cognitive Canvas : Exploring the Model Context Protocol (MCP).<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.153.5">Hugo</a> | Theme - <a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="noopener noreffer" title="KeepIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> KeepIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2025 - 2026</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
